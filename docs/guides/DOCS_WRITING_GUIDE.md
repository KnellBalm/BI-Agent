# BI-Agent 문서 작성 가이드 (Docs Writing Guide)

이 가이드는 BI-Agent 프로젝트의 문서를 일관성 있고 유기적으로 관리하기 위한 작성 원칙과 스타일 가이드를 제공합니다.

---

## 🎨 기본 문서 스타일

### 1. GitHub Alert 활용 (강조)
중요도에 따라 적절한 Alert를 사용하여 가독성을 높입니다.
> [!NOTE]
> 일반적인 참고 사항이나 부연 설명입니다.
> [!TIP]
> 더 효율적인 방법이나 팁을 공유할 때 사용합니다.
> [!IMPORTANT]
> 반드시 알아야 하는 핵심 사항입니다.
> [!WARNING]
> 주의가 필요한 변경 사항이나 잠재적 문제가 있을 때 사용합니다.

### 2. Mermaid 다이어그램
구조나 워크플로우를 설명할 때는 텍스트보다 Mermaid 다이어그램을 권장합니다.
- `graph TD` (Top Down): 프로세스 흐름
- `sequenceDiagram`: 시스템 간 상호작용
- `erDiagram`: 데이터 모델링

### 3. 코드 블록 및 파일 링크
- 모든 코드 블록에는 언어 명시 (예: ` ```python `)
- 파일 참조 시 절대 경로 대신 **상대 경로 링크** 사용: `[README.md](../../README.md)`
- 특정 라인 참조: `[L123](../../file.py#L123)`

---

## 🔄 코어 문서 관리 원칙 (4-Stage)

모든 개발 태스크는 아래 4단계 흐름을 거쳐 문서화됩니다.

### PHASE A: 전략 (PLAN.md)
- **작성 내용**: 마일스톤, 도달 목표, 큰 흐름의 설계 철학.
- **수정 규칙**: 새로운 Phase에 진입하거나 로드맵이 변경될 때만 대대적으로 수정합니다.
- **포인트**: 구체적인 코드보다는 '왜(Why)'와 '언제(When)'에 집중합니다.

### PHASE B: 설계 (DETAILED_SPEC.md)
- **작성 내용**: 클래스 다이어그램, API 명세, LLM 프롬프트 템플릿, 수용 기준(Acceptance Criteria).
- **수정 규칙**: 코드를 작성하기 직전, 구현 방식을 확정할 때 작성합니다.
- **포인트**: 개발자가 이 문서만 보고도 코딩할 수 있을 정도의 상세함을 지향합니다.

### PHASE C: 실행 (TODO.md)
- **작성 내용**: 세부 체크리스트, 현재 진행 상황, 기술적 지표.
- **수정 규칙**: 매일 작업 전/후에 업데이트합니다.
- **상태 표기**:
  - `[ ]`: 대기 중
  - `[/]`: 진행 중 (작업 중인 항목은 1~2개로 제한 권장)
  - `[x]`: 완료
- **포인트**: 프로젝트의 실시간 '심박수'와 같은 역할을 합니다.

### PHASE D: 기록 (CHANGELOG.md)
- **작성 내용**: 버전별 변경 내역, 해결된 버그, 새로 추가된 기능.
- **수정 규칙**: 작업이 완료되어 커밋/푸시하기 직전에 기록합니다.
- **포인트**: 일지 형태보다는 사용자나 다른 개발자가 읽기 좋은 '성과 중심'으로 요약합니다.

---

## 🔗 유기적 연결 (Linking & IDs)

### 1. Step ID 동기화
`PLAN.md`에서 정의한 **Step 번호**(예: `Step 4.2`)를 모든 문서에서 공용 키워드로 사용합니다.
- `DETAILED_SPEC.md`의 섹션 제목: `## Step 4.2: 히스토리 강화`
- `TODO.md`의 항목: `- [ ] Step 4.2 기능 구현`
- `git commit`: `feat: implement step 4.2 history saving`

### 2. 네비게이션 바 (Top Navigation)
모든 코어 문서 최상단에는 아래의 네비게이션 바를 유지하여 문서 간 이동을 돕습니다.
```markdown
> [ 🗺️ 전략/로드맵 ](./PLAN.md) · [ 🛠️ 상세 설계 ](./DETAILED_SPEC.md) · [ 📋 현재 실행 ](./TODO.md) · [ 📜 변경 이력 ](./CHANGELOG.md)
```

---

## 🚨 자주 발생하는 실수 (Pitfalls)

- **상대 경로 미준수**: 로컬 절대 경로(`/home/user/...`)를 포함하면 다른 환경에서 링크가 깨집니다.
- **과도한 상세 정보**: `PLAN.md`에 너무 구체적인 구현 코드를 넣으면 읽기 어려워집니다. 그런 내용은 `DETAILED_SPEC.md`로 옮기세요.
- **TODO 지연**: 실제 작업은 끝났는데 `TODO.md`가 체크되어 있지 않으면 에이전트나 협업자가 혼란을 겪습니다.

---

**마지막 한 마디**: 문서는 코드를 위한 부록이 아니라, 프로젝트의 성공을 위한 **내비게이션**입니다. 훌륭한 코드는 사라질 수 있어도, 훌륭한 핵심 설계 문서는 다음 프로젝트의 자산이 됩니다.
